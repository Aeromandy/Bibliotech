<app-header></app-header>
<div class="container">
    <h1>Painel de Controle</h1>
    <div class="table">
        <section class="table-container mat-elevation-z8" tabindex="0">
            <table mat-table [dataSource]="dataSource">

                <ng-container matColumnDef="leitor">
                    <th mat-header-cell *matHeaderCellDef> Leitor </th>
                    <td mat-cell *matCellDef="let emprestimo"> {{ emprestimo.leitor }}
                </ng-container>

                <ng-container matColumnDef="livro">
                    <th mat-header-cell *matHeaderCellDef> Livro </th>
                    <td mat-cell *matCellDef="let emprestimo"> {{ emprestimo.livro.titulo }}
                </ng-container>

                <ng-container matColumnDef="data">
                    <th mat-header-cell *matHeaderCellDef> Data do Empr√©stimo </th>
                    <td mat-cell *matCellDef="let emprestimo"> {{ emprestimo.data }} </td>
                </ng-container>

                <ng-container matColumnDef="status">
                    <th mat-header-cell *matHeaderCellDef> Status </th>
                    <td mat-cell *matCellDef="let emprestimo"> {{ emprestimo.status }} </td>
                </ng-container>

                <!-- <ng-container matColumnDef="excluir">
                    <th mat-header-cell *matHeaderCellDef> Excluir </th>
                    <td mat-cell *matCellDef="let emprestimo">
                        <button mat-icon-button (click)="deleteEmprestimo(emprestimo.id, book.fotoUrl)">
                            <i class="material-icons">delete</i>
                        </button>
                    </td>
                </ng-container> -->
                <ng-container matColumnDef="excluir">
                    <th mat-header-cell *matHeaderCellDef> Excluir </th>
                    <td mat-cell *matCellDef="let book">
                        <button mat-icon-button (click)="deleteEmprestimo(book.id, book.fotoUrl)">
                            <i class="material-icons">delete</i>
                        </button>
                    </td>
                </ng-container>

                <ng-container matColumnDef="editar">
                    <th mat-header-cell *matHeaderCellDef> Editar </th>
                    <td mat-cell *matCellDef="let emprestimo">
                        <a mat-icon-button [routerLink]="['/painel/editar', emprestimo.id]">
                            <i class="material-icons">edit</i>
                        </a>
                    </td>
                </ng-container>

                <ng-container matColumnDef="capa">
                    <th mat-header-cell *matHeaderCellDef> Capa </th>
                    <td mat-cell *matCellDef="let emprestimo">
                        <button mat-button>
                            <img src="{{ emprestimo.livro.fotoUrl }}" alt="capa">
                        </button>
                    </td>
                </ng-container>


                <tr mat-header-row *matHeaderRowDef="displayedColumns; sticky: true"></tr>
                <tr mat-row *matRowDef="let row; columns: displayedColumns;"></tr>
            </table>
        </section>
        <a mat-fab class="btn-new" class="btn-add">
            <i class="material-icons" routerLink="/painel/new">add</i>
        </a>
    </div>